<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Final Fantasy I In Browser</title>
		<link rel="stylesheet" type="text/css" href="/css/style.css" />
		<script type="text/javascript" src="/lib/phaser/phaser.min.js"></script>
		<script type="text/javascript" src="/lib/utils/presentation.js"></script>
		<script type="text/javascript" src="/lib/jquery/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="/lib/game/World.js"></script>
		<script type="text/javascript" src="/lib/game/Party.js"></script>
		<script type="text/javascript">
		var game = new Phaser.Game(1280, 720, Phaser.CANVAS, 'phaser-example', { preload: preload, create: create, update: update,render: render });

		function preload() {
		    game.load.image('worldmap', '../assets/img/world/worldMap.png');
		    game.load.spritesheet('player', '../assets/img/game/worldmapMovement.png', 20, 20);
		}

		var player;
		var text;
		var text1;
		var world;
		
		function create() {
		    var worldSprite = game.add.tileSprite(0, 0, 1280, 720, 'worldmap');
		    worldSprite.scale.setTo(4, 4);
		    worldSprite.tilePosition.x = 4238;//1888;
		    worldSprite.tilePosition.y = 3828;//1408;
		    world = new World(worldSprite);
		    
		    var playerSprite = game.add.sprite(game.width / 2, game.height / 2 - 35, 'player');
		    playerSprite.scale.setTo(3, 3);
		    var cursors = game.input.keyboard.createCursorKeys();
			player = new Party(playerSprite, cursors);		    

			this.scale.scaleMode = Phaser.ScaleManager.EXACT_FIT;
		    game.scale.refresh();

		    text  = game.add.text(300, 32, '', { fill: '#ffffff' });
		    text1 = game.add.text(600, 32, '', { fill: '#ffffff' });
		}

		function update() {
		    player.move(1.5, world.sprite);
		}
	
		function render () {
		    game.debug.inputInfo(32, 32);
		    var coords = world.calculatePlayerCooordinates();
		    text.text = "PositionX: " + coords.x +
		    			"\nPositionY: " + coords.y +
		    			"\nTileType: " + world.elements[world.tiles[coords.y][coords.x]];
		    
		    text1.text = "PositionX: " + world.sprite.tilePosition.x +
						 "\nPositionY: " + world.sprite.tilePosition.y;
		    
		}
		</script>
	</head>
	<body>
		<!--
	    <div id="login" style="position: absolute; left: 40%; top: 50%;">
	    	<div style="position: relative; left: -33%; top: -23vh;">
				<div class="container">
					<section id="content">
						<form action="#">
							<h1>Login or Register</h1>
							<div> <input type="email" placeholder="E-mail" required id="email" autocomplete="off" /> </div> 
							<div> <input type="password" placeholder="Password" required id="password" /> </div>
							<div> <p id="exceptionText"> &nbsp; </p> </div>
							<div> <button type="button" onclick="presentationUtils.registerUser()" > Continue </button> </div>
						</form>
					</section>
				</div>
			</div>
	    </div>
	      -->
	</body>
</html>

