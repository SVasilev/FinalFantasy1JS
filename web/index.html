<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Final Fantasy I In Browser</title>
		<link rel="stylesheet" type="text/css" href="/css/style.css" />
		<script type="text/javascript" src="/lib/phaser/phaser.min.js"></script>
		<script type="text/javascript" src="/lib/utils/presentation.js"></script>
		<script type="text/javascript" src="/lib/jquery/jquery-1.11.1.min.js"></script>
		<script type="text/javascript">
		var game = new Phaser.Game(1280, 720, Phaser.CANVAS, 'phaser-example', { preload: preload, create: create, update: update, render: render });

		function preload() {
		    game.load.image('worldmap', '../assets/img/world/worldMap.png');
		    game.load.spritesheet('player', '../assets/img/game/worldmapMovement.png', 20, 20);
		}

		var sprite;
		var player;
		var cursors;
		var text;
		
		function calculatePlayerCooordinates(spriteX, spriteY) {
			//1888, 1410 -> 157, 157
			return {
				x: Math.floor(4240 - Math.abs(spriteX)) / 16 + 10, 
				y: Math.floor(3840 - Math.abs(spriteY)) / 16 + 5
			};
		}

		function create() {
		    sprite = game.add.tileSprite(0, 0, 1280, 720, 'worldmap');
		    sprite.scale.setTo(4, 4);
		    sprite.tilePosition.x = 1888;
		    sprite.tilePosition.y = 1408;
		    
		    player = game.add.sprite(game.width / 2, game.height / 2 - 35, 'player');
		    player.scale.setTo(3, 3);
		    
			this.scale.scaleMode = Phaser.ScaleManager.EXACT_FIT;
		    game.scale.refresh();

		    cursors = game.input.keyboard.createCursorKeys();
		    text = game.add.text(300, 32, '', { fill: '#ffffff' });
		}

		function update() {
		    if (cursors.left.isDown)
		    {
		        sprite.tilePosition.x += 1.5;
		    }
		    else if (cursors.right.isDown)
		    {
		        sprite.tilePosition.x -= 1.5;
		    }
		    if (cursors.up.isDown)
		    {
		        sprite.tilePosition.y += 1;
		    }
		    else if (cursors.down.isDown)
		    {
		        sprite.tilePosition.y -= 1;
		    }
		}
	
		function render () {
		    game.debug.inputInfo(32, 32);
		    var coords = calculatePlayerCooordinates(sprite.tilePosition.x, sprite.tilePosition.y);
		    text.text = "PositionX: " + coords.x +
		    			"\nPositionY: " + coords.y;
		}
		</script>
	</head>
	<body>
		<!--
	    <div id="login" style="position: absolute; left: 40%; top: 50%;">
	    	<div style="position: relative; left: -33%; top: -23vh;">
				<div class="container">
					<section id="content">
						<form action="#">
							<h1>Login or Register</h1>
							<div> <input type="email" placeholder="E-mail" required id="email" autocomplete="off" /> </div> 
							<div> <input type="password" placeholder="Password" required id="password" /> </div>
							<div> <p id="exceptionText"> &nbsp; </p> </div>
							<div> <button type="button" onclick="presentationUtils.registerUser()" > Continue </button> </div>
						</form>
					</section>
				</div>
			</div>
	    </div>
	      -->
	</body>
</html>

